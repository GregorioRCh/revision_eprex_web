<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Revisión Litúrgica</title>

  <!-- version: 2026-01-18-RESTORE -->

  <style>
    /* ============================
       ESTILO PREMIUM PARA TABLAS
       ============================ */

    body {
      font-family: "Segoe UI", sans-serif;
      margin: 20px;
      background: #f5f5f5;
    }

    h1 {
      margin-bottom: 20px;
    }

    .panel {
      background: white;
      padding: 15px;
      border: 1px solid #ccc;
      margin-bottom: 20px;
      border-radius: 8px;
    }

    /* ============================
       TABS PREMIUM
       ============================ */

    .tabs {
      display: flex;
      gap: 6px;
      margin-bottom: 12px;
      overflow-x: auto;
    }

    .tab {
      padding: 8px 14px;
      background: #f3f3f3;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.2s ease-in-out, transform 0.1s;
      white-space: nowrap;
    }

    .tab:hover {
      background: #e8e8e8;
      transform: translateY(-1px);
    }

    .tab.activa {
      background: #d0e7ff;
      font-weight: 600;
    }

    .tab-verde { border-left: 4px solid #4caf50; }
    .tab-amarillo { border-left: 4px solid #ffca28; }
    .tab-rojo { border-left: 4px solid #e53935; }
    .tab-pendiente { border-left: 4px solid #9e9e9e; }

    .tab-content {
      display: none;
      background: white;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }

    .tab-content.activa {
      display: block;
    }

    /* ============================
       TABLAS PREMIUM
       ============================ */

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
      background: #ffffff;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    table th {
      background: #f3f3f3;
      padding: 8px 6px;
      text-align: left;
      font-weight: 600;
      border-bottom: 2px solid #e0e0e0;
    }

    table tr {
      height: 28px;
      transition: background 0.15s ease-in-out;
    }

  table tr:nth-child(even):not(.fila-verde):not(.fila-amarillo):not(.fila-rojo) {
  background: #fafafa;
}


    table tr:hover {
      background: #f0f7ff;
    }

    table td {
      padding: 4px 6px;
      vertical-align: middle;
      border-bottom: 1px solid #eaeaea;
    }

    /* ============================
       COLUMNAS AJUSTADAS
       ============================ */

    table th:nth-child(1),
    table td:nth-child(1) {
      width: 150px;
      font-weight: 500;
    }

    table th:nth-child(2),
    table td:nth-child(2) {
      width: 70px;
      text-align: center;
    }

    table th:nth-child(4),
    table td:nth-child(4) {
      width: 180px;
      text-align: center;
    }

    /* ============================
       TEXTAREA PREMIUM
       ============================ */

    textarea {
      width: 100%;
      height: 40px;
      resize: vertical;
      font-size: 13px;
      padding: 4px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-family: "Segoe UI", sans-serif;
    }

    /* ============================
       BOTONES PREMIUM
       ============================ */

    .botones-estado button {
      padding: 3px 8px;
      margin: 1px;
      font-size: 12px;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      transition: opacity 0.15s ease-in-out;
    }

    .botones-estado button:hover {
      opacity: 0.8;
    }

    .boton-verde { background: #4caf50; color: white; }
    .boton-amarillo { background: #ffca28; color: #333; }
    .boton-rojo { background: #e53935; color: white; }

    /* ============================
       LOGIN Y PANELES
       ============================ */

    #login {
      background: white;
      padding: 20px;
      border: 1px solid #ccc;
      width: 300px;
      margin: 0 auto;
      margin-top: 50px;
      border-radius: 8px;
    }

    #crearUsuario,
    #panelInformes,
    #panelAuditoria {
      background: #fff;
      padding: 15px;
      border: 1px solid #ccc;
      margin-top: 20px;
      border-radius: 8px;
      display: none;
    }

    .boton-secundario {
      margin-left: 10px;
      padding: 5px 10px;
      cursor: pointer;
    }

    /* ============================================================
       COLORES DE FILA (CORREGIDO PARA QUE NO DESAPAREZCAN EN HOVER)
       ============================================================ */
/* Quitar sombreado alterno que interfería */
table tr:nth-child(even) {
  background: none;
}

/* Colores iguales a los botones */
.fila-verde    { background: #4caf50 !important; color: white; }
.fila-amarillo { background: #ffca28 !important; color: #333; }
.fila-rojo     { background: #e53935 !important; color: white; }

/* Mantener color al pasar el ratón */
tr.fila-verde:hover {
  background: #4caf50 !important;
}

tr.fila-amarillo:hover {
  background: #ffca28 !important;
}

tr.fila-rojo:hover {
  background: #e53935 !important;
}



  </style>
</head>

<body>

  <!-- LOGIN -->
  <div id="login">
    <h2>Iniciar sesión</h2>
    <input id="loginUsuario" placeholder="Usuario" style="width:100%;"><br><br>
    <input id="loginPassword" type="password" placeholder="Contraseña" style="width:100%;"><br><br>
    <button onclick="login()">Entrar</button>
  </div>

  <!-- APLICACIÓN -->
  <div id="app">

    <div class="panel">
      <button onclick="logout()">Cerrar sesión</button>
      <button id="btnCrearUsuario" style="display:none;" onclick="mostrarCrearUsuario()">Crear usuario</button>

      <span id="zonaSupervisor" style="display:none;">
        <select id="selectYear"></select>
        <button class="boton-secundario" onclick="toggleInformes()">Ver informes</button>
        <button class="boton-secundario" onclick="toggleAuditoria()">Ver auditoría</button>
      </span>
    </div>

    <div id="crearUsuario">
      <h3>Crear nuevo usuario</h3>
      <input id="nuevoUsuario" placeholder="Usuario" style="width:100%;"><br><br>
      <input id="nuevoPassword" type="password" placeholder="Contraseña" style="width:100%;"><br><br>
      <select id="nuevoRol" style="width:100%;">
        <option value="usuario">Usuario</option>
        <option value="supervisor">Supervisor</option>
      </select><br><br>
      <button onclick="crearUsuario()">Guardar usuario</button>
    </div>

    <h1>Revisión del Oficio y Misa</h1>

    <div class="panel">
      <label><strong>Fecha:</strong></label>
      <input type="date" id="fecha">
      <button onclick="cargarDia()">Cargar día</button>
    </div>

    <div id="resultado"></div>

    <div id="panelInformes">
      <h2>Informes del año <span id="informeYear"></span></h2>
      <div id="resumenInforme"></div>
      <h3>Días con fallos</h3>
      <div id="tablaDiasFallos"></div>
      <h3>Días completos</h3>
      <div id="tablaDiasCompletos"></div>
    </div>

    <div id="panelAuditoria">
      <h2>Auditoría</h2>
      <div id="tablaAuditoria"></div>
    </div>

  </div>

  <script src="app.js?v=4"></script>

</body>
</html>
